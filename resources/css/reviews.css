:root{
  --gv-green:#1A5229;
  --gv-green-600:#256D1B;
  --gv-green-700:#146a3b;
  --gv-red:#d33;
  --gv-muted:#6b7280;
  --gv-border:#d9d9d9;
  --gv-shadow:0 6px 24px rgba(0,0,0,.06);
  --gv-bg:#fff;

  --clamp-lines:6;   /* nº de líneas antes de “ver más” */
  --lh:1.6;          /* line-height base */
}

.review-card,.review-item{
  font-family:var(--bs-body-font-family, ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji");
}
*,*::before,*::after{ box-sizing:border-box; }

/* Grid */
.review-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(330px,1fr));
  gap:2rem;
}

/* Título del tour */
.review-title{
  display:flex; align-items:center; justify-content:center;
  min-height:56px;
  background:var(--gv-green); color:#fff;
  padding:8px 14px; font-weight:800; font-size:1rem;
  border-radius:10px 10px 0 0; margin-bottom:1rem;
}
.review-title a{ color:#fff; text-underline-offset:2px; }

/* Card */
.review-card{
  display:flex; flex-direction:column; text-align:center;
  padding:1rem 1rem 0.75rem;
  position:relative; overflow:visible;
  border:1px solid var(--gv-border); border-radius:12px;
  background:var(--gv-bg);
  min-height:420px;                 /* ↓ más compacto */
  transition:box-shadow .2s ease;
}
.review-card:hover{ box-shadow:var(--gv-shadow); }
.review-card .js-carousel{ display:flex; flex-direction:column; flex:1 1 auto; }
.review-card .js-slides{  display:flex; flex-direction:column; flex:1 1 auto; }

/* Al expandir, deja crecer */
.review-card.expanded-card{ min-height:auto; }

/* Slide */
.review-item{ width:100%; }
.review-body-wrapper{
  width:100%;
  display:flex; flex-direction:column; align-items:center;
  gap:.55rem; padding:0 18px 2px;
}

/* Autor / fecha */
.review-header{
  display:flex; align-items:center; justify-content:center; margin-top:.25rem;
  gap:.5rem;
}
.review-meta{
  display:flex; flex-direction:column; align-items:center; gap:.2rem;
  min-width:0;             /* ⬅️ permite truncar/wrap interno */
}
.review-author{
  font-weight:800; font-size:1.08rem; color:#1f2937;
  overflow-wrap:anywhere;  /* ⬅️ evita overlap con textos largos */
  word-break:break-word;
  text-align:center;
}
.review-date{ font-size:.9rem; color:var(--gv-muted); line-height:1.15; }

/* Estrellas (más pequeñas que el autor) */
.review-stars{ color:#f1c40f; font-size:.95rem; line-height:1; letter-spacing:.02em; }
.rating-number{ color:var(--gv-green-600); margin-left:.35rem; }

/* Pill roja a TODO el ancho */
.review-label{
  display:block; width:100%;
  background:var(--gv-red); color:#fff;
  padding:.5rem 1rem; margin:.55rem 0 .35rem;
  font-weight:800; font-size:.95rem; text-align:center;
  border-radius:8px; word-break:break-word;
}

/* Texto con clamp (6 líneas) */
.review-content{
  width:100%; color:#333; text-align:left;
  line-height:var(--lh); overflow:hidden;
  display:-webkit-box; -webkit-box-orient:vertical;
  -webkit-line-clamp:var(--clamp-lines);
  max-height:calc(var(--lh) * var(--clamp-lines) * 1em);
  transition:max-height .25s ease;
}
.review-content p{ margin:0; }
.review-content.expanded{
  -webkit-line-clamp:unset;
  max-height:1200px;
}

/* Fade-in al contenido del iframe cuando avisa READY/RESIZE */
.review-embed { opacity: 0; transition: opacity .2s ease; }
.review-embed[data-ready="1"] { opacity: 1; }

/* El skeleton se desvanece en vez de “teletransportarse” */
.iframe-skeleton { transition: opacity .2s ease, visibility .2s ease; }
.iframe-skeleton.is-hidden { opacity: 0; visibility: hidden; }

/* Botón Ver más/menos */
.review-toggle{
  background:none; border:0; cursor:pointer;
  margin-top:.35rem;
  color:var(--gv-green-600);
  font-weight:700; font-size:.8rem; line-height:1.2;
}
.review-toggle:hover{ text-decoration:underline; color:var(--gv-green-700); }

/* Powered by */
.powered-by{ font-size:.82rem; color:#555; text-align:center; margin-top:.6rem; }

/* Navegación */
.carousel-buttons-row{ display:flex; justify-content:center; gap:2rem; margin-top:.8rem; }
.carousel-prev,.carousel-next{
  background:none; border:none; font-size:1.8rem; color:var(--gv-green);
  cursor:pointer; padding:0 .5rem; line-height:1;
}
.carousel-prev:hover,.carousel-next:hover{ color:var(--gv-green-700); }

/* Iframes compactos */
.iframe-shell.small{ position:relative; width:100%; height:var(--h,420px); transition:none; }
.iframe-shell.small>iframe{ width:100%; height:100%; border:0; display:block; overflow:hidden; background:transparent; }
.iframe-skeleton{ position:absolute; inset:0; border-radius:.75rem; background:#f4f4f4; animation:pulse 1.2s ease-in-out infinite; }
@keyframes pulse{ 0%{opacity:.6} 50%{opacity:1} 100%{opacity:.6} }

/* Responsive */
@media (max-width:576px){
  .review-grid{ grid-template-columns:1fr; }
  .review-title{ min-height:48px; }
  .review-content{ --clamp-lines:5; }
}
