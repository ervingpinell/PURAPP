/* Contenedor de segmentos (debajo del carrusel) */
.home-hero .carousel-segments,
.reviews-block .carousel-segments{
  display:flex; gap:8px; justify-content:center; align-items:center;
  margin:14px auto 0; width:min(620px, 92%);
}

/* Cada segmento (rectángulo corto) */
.carousel-segment{
  appearance:none; border:0; padding:0; cursor:pointer;
  height:6px; flex:1 1 0; border-radius:4px;
  background:rgba(0,0,0,.12);
  transition:transform .15s ease, background-color .2s ease;
}
.carousel-segment:hover{ transform:translateY(-1px); }
.carousel-segment.is-active{
  background:#1A5229; /* tu --green */
}

/* ================================
   HOME REVIEWS HERO (alineado a EMBED)
   ================================ */

:root{
  --green:#1A5229;
  --warn:#d33;
}

/* Wrapper */
.home-hero{
  position: relative;
  max-width: 100%;
  margin: 0 auto;
  padding: 2rem 1rem;

  /* TIPOGRAFÍA AL NIVEL DEL EMBED (scoped) */
  --fs-body:   0.9rem;
  --fs-sm:     0.85rem;
  --fs-xs:     0.75rem;

  --fs-author: var(--fs-body);
  --fs-stars:  1.1rem;
  --fs-rating: var(--fs-sm);
  --fs-label:  var(--fs-sm);

  /* Botones anclados al card */
  --card-w: min(600px, 95vw);
  --card-half: calc(var(--card-w) / 2);
  --btn-gap: .9rem;
  --btn-size: 2.5rem;
  --btn-size-sm: 2rem;
}

/* Card */
.home-hero .hero-card{
  position: relative;
  display: flex; flex-direction: column;
  background:#fff; border-radius:12px; padding:1rem;
  max-width:600px; width:100%; margin:0 auto;
  min-height:360px; overflow:visible;
  box-shadow:0 10px 22px rgba(0,0,0,.06);

  --title-left:auto;
  --title-lines:2;
  --title-h:2rem;
}
.home-hero .hero-card.pad-title{ padding-top: calc(.7rem + var(--title-h, 2rem)); }
.home-hero .carousel-item{ overflow: visible; }

/* Título del tour */
.home-hero .tour-title-abs{
  position:absolute; top:.5rem; right:.5rem; left:var(--title-left, auto);
  max-width:62%; text-align:right; line-height:1.2; margin:0;
  font-size:var(--fs-sm); font-weight:600; color:var(--green);
  display:-webkit-box; -webkit-line-clamp:var(--title-lines, 2);
  -webkit-box-orient:vertical; overflow:hidden; word-break:break-word;
}
.home-hero .tour-title-abs a{ color:var(--green); text-decoration:underline; }

/* Head */
.home-hero .review-head{ display:flex; align-items:center; gap:.75rem; padding-top:.25rem; margin-bottom:.25rem; }
.home-hero .avatar{ width:56px; height:56px; border-radius:50%; overflow:hidden; background:#e9ecef; flex:0 0 56px; }
.home-hero .avatar img{ width:100%; height:100%; object-fit:cover; }
.home-hero .who-when{ min-width:0; }
.home-hero .who-when .who{ font-weight:700; font-size:var(--fs-author); overflow-wrap:anywhere; }
.home-hero .who-when .when{ color:#6c757d; font-size:var(--fs-sm); }

/* Rating */
.home-hero .review-stars{ color:#ffc107; font-size:var(--fs-stars); }
.home-hero .rating-number{ font-size:var(--fs-rating); color: var(--gv-green-600); margin-left:.4rem; }

/* Label */
.home-hero .review-label{
  display:inline-block; background:var(--warn); color:#fff;
  padding:.4rem .9rem; border-radius:20px; font-weight:700;
  font-size:var(--fs-label); margin:.6rem 0 .9rem; text-align:center;
}

/* Texto + toggle */
.home-hero .review-textwrap{ position:relative; }
.home-hero .review-content{
  text-align:center; line-height:1.45; color:#222;
  font-size:var(--fs-body); padding:0 .25rem; word-break:break-word;
}
.home-hero .review-content.clamp-5{ display:-webkit-box; -webkit-line-clamp:5; -webkit-box-orient:vertical; overflow:hidden; }
.home-hero .review-content.expanded{ display:block; -webkit-line-clamp:unset; }

.home-hero .review-toggle{
  position:absolute; right:.25rem; bottom:.1rem; display:none;
  background:#fff; border:none; padding-left:.65rem;
  color:#256D1B; font-weight:700; cursor:pointer; line-height:1.2; font-size:var(--fs-sm);
}
.home-hero .review-toggle::before{
  content:""; position:absolute; left:-22px; top:0; bottom:0; width:22px;
  background:linear-gradient(90deg, rgba(255,255,255,0), #fff 60%); pointer-events:none;
}
.home-hero .review-toggle:hover{ text-decoration:underline; }

/* Powered by */
.home-hero .powered-by{ margin-top:auto; text-align:center; font-size:var(--fs-xs); color:#777; padding-top:.75rem; }

/* Iframe (fijamos altura estable) */
.home-hero .iframe-shell{
  position:relative; max-width:600px; width:100%; margin:0 auto;
  /* valor por defecto, se sobrescribe inline con --embed-h */
  --embed-h: 460px;
  height: var(--embed-h);
  min-height: var(--embed-h);
  border-radius:12px; overflow:hidden;
  background:#fff;
  transition: height .15s ease, min-height .15s ease;
}

.home-hero iframe.review-embed,
.home-hero iframe.review-iframe{
  display:block;
  max-width:600px; width:100%;
  height: var(--embed-h);
  min-height: var(--embed-h);
  border:0; border-radius:12px; overflow:hidden; background:#fff;
  transition: height .15s ease, min-height .15s ease;
}

/* No dejar que los slides no activos afecten la altura del carrusel */
.home-hero .carousel-item:not(.active) .iframe-shell,
.home-hero .carousel-item:not(.active) iframe.review-embed{
  height: var(--embed-h) !important;
  min-height: var(--embed-h) !important;
}

.home-hero .iframe-skeleton{ height: var(--embed-h); }

/* === Controles del carrusel pegados al card === */
.home-hero .carousel-control-prev,
.home-hero .carousel-control-next{
  position:absolute; top:50%; transform:translateY(-50%);
  z-index:10; width:var(--btn-size); height:var(--btn-size);
  padding:0; display:flex; align-items:center; justify-content:center;
}
.home-hero .carousel-control-prev{ left: max(.5rem, calc(50% - var(--card-half) - var(--btn-gap))); }
.home-hero .carousel-control-next{ right:max(.5rem, calc(50% - var(--card-half) - var(--btn-gap))); }

/* Iconos */
.home-hero .carousel-control-prev-icon,
.home-hero .carousel-control-next-icon{
  background-color:#256D1B !important;
  border-radius:50%;
  width:var(--btn-size); height:var(--btn-size);
  background-size:1.5rem 1.5rem; background-position:center; background-repeat:no-repeat;
  box-shadow:0 4px 10px rgba(0,0,0,.25);
}
.home-hero .carousel-control-prev:hover .carousel-control-prev-icon,
.home-hero .carousel-control-next:hover .carousel-control-next-icon{ background-color:#60A862 !important; }

/* Responsive */
@media (max-width:576.98px){
  .home-hero{
    --btn-gap:.6rem;
    --btn-size:var(--btn-size-sm);
  }
  .home-hero .tour-title-abs{ position:static; max-width:100%; text-align:center; margin:.25rem 0 0; -webkit-line-clamp:2; }
  .home-hero .hero-card.pad-title{ padding-top:.75rem; }

  .home-hero .carousel-control-prev-icon,
  .home-hero .carousel-control-next-icon{ width:var(--btn-size-sm); height:var(--btn-size-sm); background-size:1.2rem 1.2rem; }

  .home-hero .who-when{ display:flex; flex-direction:column; align-items:flex-start; gap:.15rem; }
  .home-hero .who-when .who{ font-size:var(--fs-sm); line-height:1.2; }
  .home-hero .who-when .when{ font-size:var(--fs-xs); }
  .home-hero .review-stars{ font-size:1rem; }
  .home-hero .rating-number{ font-size:var(--fs-xs); }
  .home-hero .review-label{ font-size:var(--fs-label); padding:.35rem .7rem; border-radius:18px; }
  .home-hero .review-content{ font-size:.9rem; }
  .home-hero .home-hero .review-content.clamp-5{ -webkit-line-clamp:4; }
  .home-hero .review-toggle{ font-size:.8rem; }
}

@media (max-width:768px){
  .home-hero .hero-card{ max-width:95%!important; width:95%!important; padding:.75rem; --title-h:2.2rem; }
  .home-hero .tour-title-abs{ font-size:var(--fs-sm); max-width:64%; }
  .home-hero .avatar{ width:44px; height:44px; flex:0 0 44px; }
  .home-hero .review-head{ gap:.6rem; margin-bottom:.2rem; }
}

@media (max-width:360px){
  .home-hero .review-label{ font-size:.75rem; padding:.25rem .5rem; border-radius:16px; }
}
